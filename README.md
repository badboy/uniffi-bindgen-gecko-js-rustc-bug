# Reproducable failure


```
cargo build
```

leads to


```
<snip>
Compiling uniffi_macros v0.24.1
error: linking with `cc` failed: exit status: 1
  |
  = note: LC_ALL="C" PATH="/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/circleci/.cargo/bin:/home/circleci/bin:/home/circleci/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" VSLANG="1033" "cc" "-Wl,--version-script=/tmp/rustchnaRMG/list" "-Wl,--no-undefined-version" "-m64" "/tmp/rustchnaRMG/symbols.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.0.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.1.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.10.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.11.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.12.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.13.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.14.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.15.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.2.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.3.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.4.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.5.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.6.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.7.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.8.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.uniffi_macros.cf019372984507f5-cgu.9.rcgu.o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.47lu7vlhfh3ozvpf.rcgu.rmeta" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/uniffi_macros-870fa1da5bf73185.5avlopdm5veqmfte.rcgu.o" "-Wl,--as-needed" "-L" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps" "-L" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-Wl,-Bstatic" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_build-0f761a98667621e7.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_bindgen-bed531519c9d96bc.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libglob-a85420e1f74a62ca.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libgoblin-8853a577959c346a.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libplain-60abe002dc486d7e.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libscroll-6987499de7d462ad.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libweedle-094f1bb4f321d036.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libnom-3ba7d871eca695ed.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libmemchr-d6d857cbabcdc1ef.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_testing-60a14d51f788ce7f.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libcargo_metadata-ae1a86f946beb63d.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libserde_json-b0719136403662d4.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libryu-bf1761a090e0d244.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libitoa-31083e990354a5eb.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libthiserror-bb1e0b6ecd9c4204.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libcargo_platform-8f5371f0779f0adc.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libsemver-08a1fe95c0a14520.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libheck-5d274367d6cd4a11.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libaskama-1d511a943199a6d4.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libaskama_escape-cee00719578c85c2.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libtoml-15626d12c9a912b9.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libonce_cell-1eddf36a5857174d.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libfs_err-ed8775f3ced91ffe.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_meta-cdf8255bbf2c37b9.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libsiphasher-3f19e0de6b638cbe.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_core-2d4fb92ea8bb01bb.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libstatic_assertions-09bb1be294d27063.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/liblog-4d22919d91aaabfc.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libcfg_if-c5cd52f2f953356d.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libbytes-2260469161279e09.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libanyhow-acbd296aa6486546.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libsyn-64ffbf436832c4c1.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libquote-bb589a7647e0b23f.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libproc_macro2-b0dba7c929f125c2.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libunicode_ident-a248ba30253e17af.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libproc_macro-7ede36ba902b7649.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libcamino-59fc60af03299ffd.rlib" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libserde-6c0fd6979fa34009.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-0d91c78a7710ed2e.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-9bfeb974ba4dc4e7.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libobject-7dd2d47ddb5fff81.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libmemchr-18d5ce8e8a320b85.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libaddr2line-69d2770595dc6161.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libgimli-b156a020cc470e38.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-84091f15e468b1ee.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd_detect-fbde6acb28b510ca.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-e9de5d8ee4e7a3dd.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-9023252e4f119830.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libminiz_oxide-fcbb01769e88af40.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libadler-f69e84994e245fea.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-27b55c02caca49ea.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-579b26075cbe9eca.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-54c30397d4b33d3b.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-65fb576691133eee.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-3fff6412017c0b89.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-fd3918c72578db43.rlib" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-2a597573799b576f.rlib" "-Wl,-Bdynamic" "-lgcc_s" "-lutil" "-lrt" "-lpthread" "-lm" "-ldl" "-lc" "-Wl,--eh-frame-hdr" "-Wl,-z,noexecstack" "-L" "/home/circleci/.rustup/toolchains/1.71.0-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-o" "/home/circleci/project/uniffi-bindgen-gecko-js-rustc-bug/target/debug/deps/libuniffi_macros-870fa1da5bf73185.so" "-Wl,--gc-sections" "-shared" "-Wl,-z,relro,-z,now" "-nodefaultlibs"
  = note: /usr/bin/ld: uniffi_foreign_executor_callback_set: undefined version:
          /usr/bin/ld: failed to set dynamic section sizes: bad value
          collect2: error: ld returned 1 exit status


error: could not compile `uniffi_macros` (lib) due to previous error
```

on

```
$ rustc -vV
rustc 1.71.0 (8ede3aae2 2023-07-12)
binary: rustc
commit-hash: 8ede3aae28fe6e4d52b38157d7bfe0d3bceef225
commit-date: 2023-07-12
host: x86_64-unknown-linux-gnu
release: 1.71.0
LLVM version: 16.0.5
```
